@* @await Html.PartialAsync("ShoppingMall_Nav") *@


@* @model OrderView *@

@* <div class="container"> *@
@* 	<h2>我的訂單</h2> *@

@* 	<br /> *@

@* 	<div class="order-summary"> *@
@* 		<div class="order-category"> *@
@* 			<h3>虛擬商品</h3> *@

@* 			<p style="display: inline-block;">登記完成：</p> *@
@* 			<a href="#">@Model.VirtualCompleted</a> *@

@* 			<br /> *@

@* 			<p style="display: inline-block;">等待建單：</p> *@
@* 			<a href="#">@Model.PendingOrders</a> *@

@* 			<br /> *@

@* 			<p style="display: inline-block;">等待繳款：</p> *@
@* 			<a href="#">@Model.PendingPayment</a> *@

@* 			<br /> *@

@* 			<p style="display: inline-block;">交易完成：</p> *@
@* 			<a href="#">@Model.TransactionsCompleted</a> *@
@* 		</div> *@

@* 		<div class="order-category"> *@
@* 			<h3>實體商品</h3> *@

@* 			<p style="display: inline-block;">未出貨：</p> *@
@* 			<a href="#">@Model.PhysicalPendingShipment</a> *@

@* 			<br /> *@

@* 			<p style="display: inline-block;">出貨中：</p> *@
@* 			<a href="#">@Model.PhysicalShipping</a> *@

@* 			<br /> *@

@* 			<p style="display: inline-block;">待取貨：</p> *@
@* 			<a href="#">@Model.PhysicalAwaitingPickup</a> *@

@* 			<br /> *@

@* 			<p style="display: inline-block;">交易完成：</p> *@
@* 			<a href="#">@Model.PhysicalTransactionsCompleted</a> *@

@* 		</div> *@
@* 	</div> *@

@* 	<br /> *@
@* 	<br /> *@

@* 	<h2>訂單狀態</h2> *@
@* 	<br /> *@

@* 	@if (Model.Orders.Any()) // 如果有訂單 *@
@* 	{ *@
@* 		<div class="order-list"> *@
@* 			@foreach (var order in Model.Orders) *@
@* 			{ *@
@* 				<div class="order-item"> *@
@* 					<img src="@order.Product.MainImageUrl" alt="商品圖片"> <!-- 這裡的 ImageUrl 需要確認你的 Product Model 有這個欄位 --> *@
@* 					<p><strong>商品名稱：</strong> @order.Product.ProductName</p> *@
@* 					<p><strong>數量：</strong> @order.Quantity</p> *@
@* 					<p><strong>價格：</strong>@order.Product.Price</p> *@
@* 					<p><strong>購買日期：</strong> @order.OrderDate?.ToString("yyyy-MM-dd")</p> *@
@* 					<p><strong>訂單狀態：</strong> @order.OrderStatus.Status</p> *@
@* 				</div> *@
@* 			} *@
@* 		</div> *@
@* 	} *@
@* 	else *@
@* 	{ *@
@* 		<div class="order-category2"> *@
@* 			<div class="no-orders"> *@
@* 				<img src="https://i2.bahamut.com.tw/newgshop/pic_order_noitems.png" alt="沒有訂單"> *@
@* 			</div> *@
@* 		</div> *@
@* 	} *@
@* </div> *@

@* <style> *@
@* 	.container { *@
@* 		max-width: 68%; /* block寬度 */ *@
@* 		max-height: 100%; *@
@* 		margin: 50px auto; /* 整個區塊水平置中 */ *@
@* 		background: #f8f8f8; *@
@* 		padding: 20px; *@
@* 		border-radius: 10px; *@
@* 	} *@

@* 	h2 { *@
@* 		text-align: center; *@
@* 	} *@

@* 	.order-summary { *@
@* 		display: flex; *@
@* 		justify-content: center; /* 讓訂單資訊置中 */ *@
@* 		gap: 20px; *@
@* 		flex-wrap: wrap; /* 防止太窄時換行 */ *@
@* 	} *@

@* 	.order-category { *@
@* 		background: white; *@
@* 		padding: 20px; *@
@* 		border-radius: 10px; *@
@* 		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1); *@
@* 		text-align: center; *@
@* 		min-width: 300px; *@
@* 	} *@

@* 	.order-category2 { *@
@* 		background: white; *@
@* 		padding: 20px; *@
@* 		border-radius: 10px; *@
@* 		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1); *@
@* 		text-align: center; *@
@* 		min-width: 650px; *@
@* 	} *@

@* 	.no-orders { *@
@* 		text-align: center; *@
@* 		margin-top: 20px; *@
@* 	} *@

@* 		.no-orders img { *@
@* 			display: block; *@
@* 			margin: 0 auto; /* 圖片置中 */ *@
@* 			max-width: 100%; /* 限制圖片寬度 */ *@
@* 		} *@

@* 	.order-list { *@
@* 		display: flex; *@
@* 		flex-wrap: wrap; *@
@* 		gap: 20px; *@
@* 		justify-content: center; *@
@* 	} *@

@* 	.order-item { *@
@* 		background: white; *@
@* 		padding: 15px; *@
@* 		border-radius: 10px; *@
@* 		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1); *@
@* 		text-align: center; *@
@* 		width: 250px; *@
@* 	} *@

@* 		.order-item img { *@
@* 			max-width: 100%; *@
@* 			height: 150px; *@
@* 			object-fit: cover; *@
@* 			border-radius: 5px; *@
@* 		} *@

@* </style> *@


@model OrderView

@await Html.PartialAsync("ShoppingMall_Nav")

<div class="container">
	<h2>我的訂單</h2>
	<br />

	<div class="order-summary">
		<div class="order-category">
			<h3>虛擬商品</h3>

			<p style="display: inline-block;">登記完成：</p>
			<a>@Model.VirtualCompleted</a>

			<br />

			<p style="display: inline-block;">等待建單：</p>
			<a>@Model.PendingOrders</a>

			<br />

			<p style="display: inline-block;">等待繳款：</p>
			<a>@Model.PendingPayment</a>

			<br />

			<p style="display: inline-block;">交易完成：</p>
			<a>@Model.TransactionsCompleted</a>
		</div>

		<div class="order-category">
			<h3>實體商品</h3>

			<p style="display: inline-block;">未出貨：</p>
			<a>@Model.PhysicalPendingShipment</a>

			<br />

			<p style="display: inline-block;">出貨中：</p>
			<a>@Model.PhysicalShipping</a>

			<br />

			<p style="display: inline-block;">待取貨：</p>
			<a>@Model.PhysicalAwaitingPickup</a>

			<br />

			<p style="display: inline-block;">交易完成：</p>
			<a>@Model.PhysicalTransactionsCompleted</a>

		</div>
	</div>

	<br />
	<br />

	<h2>訂單狀態</h2>
	<br />

	@if (Model.Orders.Count > 0)
	{
		<div class="order-category2">
			<table class="order-table">
				<thead>
					<tr>
						<th>商品圖片</th>
						<th>商品名稱</th>
						<th>數量</th>
						<th>購買日期</th>
						<th>訂單狀態</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var order in Model.Orders)
					{
						<tr>
							<td><img src="@order.Product.MainImageUrl" alt="商品圖片" class="order-image" /></td>
							<td><a href="#">@order.Product.ProductName</a></td>
							<td>@order.Quantity</td>
							<td>@order.OrderDate?.ToString("yyyy-MM-dd")</td>
							<td>@order.OrderStatus.Status</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	}
	else
	{
		/* 無訂單紀錄時 */
		<div class="no-orders">
			<img src="https://i2.bahamut.com.tw/newgshop/pic_order_noitems.png" alt="沒有訂單">
			<p>目前沒有需要繳費、出貨、取貨的訂單</p>
		</div>
	}

	<br />
	<br />

	<h2>無訂單時的顯示（測試用）</h2>
	<div class="order-category2">
		<div class="no-orders">
			<img src="https://i2.bahamut.com.tw/newgshop/pic_order_noitems.png" alt="沒有訂單">
		</div>
	</div>

</div>

<style>

	.container {
		max-width: 68%; /* block寬度 */
		max-height: 100%;
		margin: 50px auto; /* 整個區塊水平置中 */
		background: #f8f8f8;
		padding: 20px;
		border-radius: 10px;
	}

	h2 {
		text-align: center;
	}

	.order-summary {
		display: flex;
		justify-content: center; /* 讓訂單資訊置中 */
		gap: 20px;
		flex-wrap: wrap; /* 防止太窄時換行 */
	}

	.order-category {
		background: white;
		padding: 20px;
		border-radius: 10px;
		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
		text-align: center;
		min-width: 300px;
	}

	.order-category2 {
		background: white;
		padding: 20px;
		border-radius: 10px;
		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
		text-align: center;
		min-width: 650px;
	}

	.no-orders {
		text-align: center;
		margin-top: 20px;
	}

		.no-orders img {
			display: block;
			margin: 0 auto; /* 圖片置中 */
			max-width: 100%; /* 限制圖片寬度 */
		}

	.order-list {
		display: flex;
		flex-wrap: wrap;
		gap: 20px;
		justify-content: center;
	}

	.order-item {
		background: white;
		padding: 15px;
		border-radius: 10px;
		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
		text-align: center;
		width: 250px;
	}

		.order-item img {
			max-width: 100%;
			height: 150px;
			object-fit: cover;
			border-radius: 5px;
		}



	.order-list {
		display: flex;
		flex-wrap: wrap;
		gap: 20px;
		justify-content: center;
	}

	.order-item {
		background: white;
		padding: 15px;
		border-radius: 10px;
		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
		text-align: center;
		width: 250px;
	}

		.order-item img {
			width: 100%;
			height: auto;
			border-radius: 5px;
		}

	.no-orders {
		text-align: center;
		margin-top: 20px;
	}

	.order-category2 {
		background: white;
		padding: 20px;
		border-radius: 10px;
		box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
		text-align: center;
		min-width: 650px;
	}

	/* 訂單表格樣式 */
	.order-table {
		width: 100%;
		border-collapse: collapse;
		margin-top: 10px;
	}

		.order-table th, .order-table td {
			border: 1px solid #ddd;
			padding: 10px;
			text-align: center;
		}

		.order-table th {
			background-color: #f2f2f2;
		}

	.order-image {
		width: 80px;
		height: auto;
		border-radius: 5px;
	}

</style>
