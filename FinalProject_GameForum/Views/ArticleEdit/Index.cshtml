@{
    Layout = "_LayoutTes";
}

<h1>文章編輯</h1>
<form id="editorForm" method="post" action="/ArticleEdit/SaveContent">
    <div id="editor"></div>
    <textarea id="hiddenContent" name="content" style="display:none;"></textarea>
    <button type="button" onclick="submitForm()">提交</button>
</form>

<!-- Quill JS -->
<script src="~/lib/quill/quill.js"></script>
<script>
      var quill = new Quill("#editor", {
      theme: "snow",
      modules: {
        toolbar: [          
          ['bold', 'italic', 'underline', 'strike'], // toggled buttons
          ['blockquote', 'code-block'],
          [{ header: 1 }, { header: 2 }], // custom button values
          [{ list: 'ordered' }, { list: 'bullet' }],
          [{ script: 'sub' }, { script: 'super' }], // superscript/subscript
          [{ indent: '-1' }, { indent: '+1' }], // outdent/indent
          [{ direction: 'rtl' }], // text direction
          [{ size: [ 'small','large', 'huge'] }], // custom dropdown
          ['link', 'image', 'video', 'formula'], // add's image support
          [{ color: [] }, { background: [] }], // dropdown with defaults from theme
          [{ font: [] }],
          [{ align: [] }],
          ['clean'], // remove formatting button
        ],
      },
    });


    // 提交表單時，把 Quill 內容轉換成 HTML 放入 textarea
    function submitForm() {
      document.getElementById("hiddenContent").value = quill.root.innerHTML;
      document.forms["editorForm"].submit();
    }

</script>